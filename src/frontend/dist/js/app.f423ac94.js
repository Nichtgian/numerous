(function(e){function t(t){for(var o,i,s=t[0],c=t[1],u=t[2],l=0,v=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(v.length)v.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0d6d35":"b6fbd099","chunk-2d0e5e97":"ef7bd3f0","chunk-2d2086b7":"fd798298"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,n[1](u)}r[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},4360:function(e,t,n){"use strict";var o=n("2b0e"),r=n("2f62");o["a"].use(r["a"]),t["a"]=new r["a"].Store({state:{authenticated:!1,user:{token:"",username:"",isGuest:!1}},mutations:{},actions:{}})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[e._v(" Numerous ")])]),n("v-content",[n("router-view")],1)],1)},a=[],i={name:"App",data:function(){return{}}},s=i,c=n("2877"),u=n("6544"),l=n.n(u),d=n("7496"),v=n("40dc"),b=n("a75b"),f=Object(c["a"])(s,r,a,!1,null,null,null),h=f.exports;l()(f,{VApp:d["a"],VAppBar:v["a"],VContent:b["a"]});var p=n("a18c"),m=n("f309");o["a"].use(m["a"]);var g=new m["a"]({theme:{themes:{light:{primary:"#3f51b5",secondary:"#b0bec5"}}}}),y=n("8055"),w=n.n(y),k=n("5132"),_=n.n(k),x=n("c758"),L=n("acb2"),V="http://localhost:5000";o["a"].config.productionTip=!1,x["a"].init(Object({NODE_ENV:"production",BASE_URL:"/"}).NUMEROUS_BACKEND_URL?Object({NODE_ENV:"production",BASE_URL:"/"}).NUMEROUS_BACKEND_URL:V+"/api/"),L["b"].getToken(L["a"].tokenKey)&&x["a"].setHeader(),o["a"].use(new _.a({connection:w()(V)})),new o["a"]({router:p["a"],vuetify:g,render:function(e){return e(h)}}).$mount("#app")},a18c:function(e,t,n){"use strict";n("d3b7");var o=n("2b0e"),r=n("8c4f"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[n("v-responsive",[n("v-card-title",[n("h1",[e._v("Home")]),n("v-spacer"),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"10px"},attrs:{outlined:"",color:"error"},on:{click:e.logout}},o),[n("v-icon",[e._v("mdi-arrow-left")])],1)]}}])},[n("span",[e._v("Logout")])]),e.user.isGuest?e._e():n("div",[n("SocialMenu",{on:{openUserProfile:e.openUserProfile},model:{value:e.showSocialMenu,callback:function(t){e.showSocialMenu=t},expression:"showSocialMenu"}}),n("ProfileMenu",{attrs:{userId:e.selectedUserId},model:{value:e.showPlayerMenu,callback:function(t){e.showPlayerMenu=t},expression:"showPlayerMenu"}}),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"primary",outlined:""},on:{click:function(t){e.showSocialMenu=!e.showSocialMenu}}},o),[n("v-icon",[e._v("mdi-account-outline")])],1)]}}],null,!1,1223177751)},[n("span",[e._v("Open Social Menu")])])],1)],1),n("v-card-text",[n("Numerous",{on:{openUserProfile:e.openUserProfile}})],1)],1)],1)],1)},i=[],s=n("fef9"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("v-card",[n("v-tabs",{attrs:{"fixed-tabs":"","background-color":"primary",dark:""}},[n("v-tab",[e._v("Your Friends "),n("v-icon",{attrs:{right:""}},[e._v("mdi-account-group-outline")])],1),n("v-tab",[e._v("Search User "),n("v-icon",{attrs:{right:""}},[e._v("mdi-account-search-outline")])],1),n("v-tab-item",[n("v-container",[e.loading?[n("h2",[e._v("loading..")])]:[null==e.friends||e.friends==[]?[n("h2",[e._v("No friends.")])]:n("v-list",e._l(e.friends,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.openChat(t.id)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.username)}})],1),n("v-list-item-icon",[n("v-icon",{attrs:{color:"primary"}},[e._v("mdi-chat-outline")])],1)],1)})),1)]],2)],1),n("v-tab-item",[n("v-container",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",outlined:"",label:"Username",type:"text"},on:{"click:append":e.searchUser},model:{value:e.searchUsername,callback:function(t){e.searchUsername=t},expression:"searchUsername"}}),e.loading?[n("h2",[e._v("searching..")])]:[null==e.foundUser?[n("h2",[e._v("No results.")])]:n("v-list",[n("v-list-item",{key:e.foundUser.id,on:{click:function(t){return e.openChat(e.foundUser.id)}},model:{value:e.foundUser,callback:function(t){e.foundUser=t},expression:"foundUser"}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(e.foundUser.username)}})],1),n("v-list-item-icon",[n("v-icon",{attrs:{color:"primary"}},[e._v("mdi-chat-outline")])],1)],1)],1)]],2)],1)],1),n("v-card-actions",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"error",outlined:""},on:{click:function(t){e.showDialog=!1}}},o),[n("v-icon",{attrs:{right:""}},[e._v("mdi-close")])],1)]}}])},[n("span",[e._v("Close Menu")])])],1)],1)],1)],1)},u=[],l=(n("d81d"),n("96cf"),n("c758")),d=n("4360"),v={getFriends:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(l["a"].get("social/getFriends"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},searchUser:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(l["a"].get("social/searchUser/"+e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},getUserAndChat:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(l["a"].post("social/searchUserAndChat",{username:d["a"].state.user.username,withUserId:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},addFriend:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(l["a"].get("social/addFriend/"+e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},removeFriend:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(l["a"].get("social/removeFriend/"+e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},sendMessage:function(e,t){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(l["a"].post("social/sendMessage",{receiverId:e,text:t}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))}},b={name:"SocialMenu",data:function(){return{loading:!1,friends:[],foundUser:null,searchUsername:""}},created:function(){this.loadFriends()},props:{value:Boolean},computed:{showDialog:{get:function(){return this.value&&this.loadFriends(),this.value},set:function(e){this.$emit("input",e)}}},methods:{openChat:function(e){this.$emit("input",!1),this.$emit("openUserProfile",e)},loadFriends:function(){var e=this;return this.loading=!0,v.getFriends().then((function(t){e.friends=t.data.map((function(e){return e.friend})),e.loading=!1}))},searchUser:function(){var e=this;return this.loading=!0,v.searchUser(this.searchUsername).then((function(t){e.foundUser=t.data,e.loading=!1})).catch((function(){e.loading=!1}))}}},f=b,h=n("2877"),p=n("6544"),m=n.n(p),g=n("8336"),y=n("b0af"),w=n("99d9"),k=n("a523"),_=n("169a"),x=n("132d"),L=n("8860"),V=n("da13"),C=n("5d23"),U=n("34c3"),S=n("0fd9"),T=n("71a3"),I=n("c671"),P=n("fe57"),R=n("8654"),j=n("3a2f"),D=Object(h["a"])(f,c,u,!1,null,null,null),M=D.exports;m()(D,{VBtn:g["a"],VCard:y["a"],VCardActions:w["a"],VContainer:k["a"],VDialog:_["a"],VIcon:x["a"],VList:L["a"],VListItem:V["a"],VListItemContent:C["a"],VListItemIcon:U["a"],VListItemTitle:C["b"],VRow:S["a"],VTab:T["a"],VTabItem:I["a"],VTabs:P["a"],VTextField:R["a"],VTooltip:j["a"]});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[e.loading||null==e.user?n("v-card",[n("v-card-title",[e._v("Not Found")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error"},on:{click:function(t){e.showDialog=!1}}},[e._v("Close")])],1)],1):n("v-card",[n("div",[n("v-card-title",{staticStyle:{"background-color":"#3f51b5",color:"white"},attrs:{dark:""}},[e._v(e._s(e.user.username))])],1),n("v-list",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"400px"},attrs:{dense:""}},e._l(e.messages,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[e.userId==t.senderId?[n("p",[e._v(e._s(t.text))])]:[n("p",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.text))])]],2)],1)})),1),n("v-container",[n("v-text-field",{attrs:{"append-icon":"mdi-send",outlined:"","hide-details":"",dense:"",required:"",label:"Send message",type:"text"},on:{"click:append":e.sendMessage},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),n("v-card-actions",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"error",outlined:""},on:{click:function(t){e.showDialog=!1}}},o),[n("v-icon",{attrs:{right:""}},[e._v("mdi-close")])],1)]}}])},[n("span",[e._v("Close Menu")])]),n("v-spacer"),e.alreadyFriends?n("v-btn",{attrs:{color:"error",outlined:""},on:{click:e.removeFriend}},[e._v("Remove friend")]):n("v-btn",{attrs:{color:"success",outlined:""},on:{click:e.friendRequest}},[e._v("Add friend")])],1)],1)],1)],1)},O=[],$=(n("a9e3"),{name:"ProfileMenu",data:function(){return{isConnected:!1,loading:!1,user:null,messages:[],alreadyFriends:!0,text:""}},props:{value:Boolean,userId:Number},sockets:{connect:function(){this.isConnected=!0},disconnect:function(){this.isConnected=!1},newMessage:function(e){d["a"].state.user.username==e&&this.loadUser()}},computed:{showDialog:{get:function(){return this.value&&this.loadUser(),this.value},set:function(e){this.$emit("input",e)}}},methods:{loadUser:function(){var e=this;if(this.loading=!1,null!=this.userId&&0!=this.userId)return v.getUserAndChat(this.userId).then((function(t){e.user=t.data.user,e.messages=t.data.messages,e.alreadyFriends=t.data.alreadyFriends,e.loading=!1}))},friendRequest:function(){var e=this;if(this.loading=!1,null!=this.userId&&0!=this.userId)return v.addFriend(this.userId).then((function(){e.alreadyFriends=!0,e.loading=!1}))},removeFriend:function(){var e=this;if(this.loading=!1,null!=this.userId&&0!=this.userId)return v.removeFriend(this.userId).then((function(){e.alreadyFriends=!1,e.loading=!1}))},sendMessage:function(){var e=this;if(this.loading=!1,null!=this.userId&&0!=this.userId&&""!=this.text)return v.sendMessage(this.userId,this.text).then((function(){e.loadUser(),e.text="",e.loading=!1,e.$socket.emit("sendMessage",e.user.username)}))}}}),E=$,N=n("2fa4"),A=Object(h["a"])(E,F,O,!1,null,null,null),B=A.exports;m()(A,{VBtn:g["a"],VCard:y["a"],VCardActions:w["a"],VCardTitle:w["c"],VContainer:k["a"],VDialog:_["a"],VIcon:x["a"],VList:L["a"],VListItem:V["a"],VListItemContent:C["a"],VRow:S["a"],VSpacer:N["a"],VTextField:R["a"],VTooltip:j["a"]});var K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[null==e.joinedLobbyData?n("v-card",[n("v-responsive",[n("v-card-title",[n("h2",[e._v("Lobbybrowser")]),n("v-spacer"),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"10px"},attrs:{color:"success",outlined:""},on:{click:e.getLobbies}},o),[n("v-icon",[e._v("mdi-reload")])],1)]}}],null,!1,4123886081)},[n("span",[e._v("Refresh lobbies")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"primary",outlined:""},on:{click:function(t){e.showCreateLobby=!e.showCreateLobby}}},o),[e._v(" Create Lobby"),n("v-icon",{attrs:{right:""}},[e._v("mdi-gamepad-variant-outline")])],1)]}}],null,!1,2191361857)},[n("span",[e._v("Create a new lobby")])])],1),n("v-card-text",[n("v-list",e._l(e.lobbies,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.joinLobby(t)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1),t.isPrivate?n("v-list-item-icon",[n("v-icon",[e._v("mdi-lock-outline")])],1):n("v-list-item-icon",[n("v-icon",[e._v("mdi-lock-open-outline")])],1)],1)})),1)],1)],1)],1):n("v-card",[n("v-responsive",[n("v-card-title",[n("h2",[e._v("Lobby "+e._s(this.joinedLobbyData.name))]),n("v-spacer"),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({staticStyle:{"margin-right":"10px"},attrs:{color:"success",outlined:""},on:{click:e.refreshLobby}},o),[n("v-icon",[e._v("mdi-reload")])],1)]}}])},[n("span",[e._v("Refresh lobby")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"error",outlined:""},on:{click:e.leaveLobby}},o),[e._v(" Leave Lobby"),n("v-icon",{attrs:{right:""}},[e._v("mdi-arrow-left")])],1)]}}])},[n("span",[e._v("Leave this lobby")])])],1),n("v-card-text",[n("v-list",e._l(e.joinedLobbyData.players,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.openChat(t.username)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.username)}})],1),n("v-list-item-icon",[n("v-icon",{attrs:{color:"primary"}},[e._v("mdi-chat-outline")])],1)],1)})),1)],1)],1)],1),n("CreateLobby",{attrs:{lobby:e.newLobbyData},on:{createdNewLobby:e.createLobby},model:{value:e.showCreateLobby,callback:function(t){e.showCreateLobby=t},expression:"showCreateLobby"}})],1)},q=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("v-card",[n("div",[n("v-card-title",{staticStyle:{"background-color":"#3f51b5",color:"white"},attrs:{dark:""}},[e._v("Create Lobby")])],1),n("v-form",[n("v-container",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Lobby name",outlined:"","hide-details":"",dense:"",required:""},model:{value:e.lobby.name,callback:function(t){e.$set(e.lobby,"name",t)},expression:"lobby.name"}})],1)],1),n("v-row",[n("v-col",[n("v-checkbox",{attrs:{label:"Make lobby private"},model:{value:e.lobby.isPrivate,callback:function(t){e.$set(e.lobby,"isPrivate",t)},expression:"lobby.isPrivate"}}),n("v-text-field",{attrs:{label:"Password",disabled:!e.lobby.isPrivate,type:"password",outlined:"",dense:"",required:""},model:{value:e.lobby.password,callback:function(t){e.$set(e.lobby,"password",t)},expression:"lobby.password"}})],1)],1)],1)],1),n("v-card-actions",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"error",outlined:""},on:{click:function(t){e.showDialog=!1}}},o),[n("v-icon",{attrs:{right:""}},[e._v("mdi-close")])],1)]}}])},[n("span",[e._v("Close Menu")])]),n("v-spacer"),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"primary"},on:{click:e.createLobby}},o),[e._v(" Create "),n("v-icon",{attrs:{right:""}},[e._v("mdi-gamepad-variant-outline")])],1)]}}])},[n("span",[e._v("Create and join a new lobby")])])],1)],1)],1)],1)},G=[],J=(n("b0c0"),{name:"CreateLobby",props:{value:Boolean,lobby:{name:"",password:"",isPrivate:!1}},computed:{showDialog:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{createLobby:function(){""!=this.lobby.name&&(!this.lobby.isPrivate||this.lobby.isPrivate&&""!=this.lobby.password)&&(this.$emit("createdNewLobby",this.lobby),this.showDialog=!1)}}}),W=J,z=n("ac7c"),Y=n("62ad"),Q=n("4bd4"),X=Object(h["a"])(W,H,G,!1,null,null,null),Z=X.exports;m()(X,{VBtn:g["a"],VCard:y["a"],VCardActions:w["a"],VCardTitle:w["c"],VCheckbox:z["a"],VCol:Y["a"],VContainer:k["a"],VDialog:_["a"],VForm:Q["a"],VIcon:x["a"],VRow:S["a"],VSpacer:N["a"],VTextField:R["a"],VTooltip:j["a"]});var ee={name:"Numerous",components:{CreateLobby:Z},data:function(){return{isConnected:!1,lobbies:[],newLobbyData:{name:"",password:"",isPrivate:!1},showCreateLobby:!1,joinedLobbyData:null}},created:function(){this.getLobbies()},sockets:{connect:function(){this.isConnected=!0},disconnect:function(){this.isConnected=!1},createdLobby:function(e){this.joinLobbyWithPassword(e.id,e.password)},allLobbies:function(e){this.lobbies=e},joinedLobby:function(e){this.joinedLobbyData=e},leftLobby:function(){this.joinedLobbyData=null,this.$socket.emit("getLobbies")},updateLobbies:function(){this.$socket.emit("getLobbies")},updateLobby:function(e){this.joinedLobbyData=e}},methods:{getLobbies:function(){this.$socket.emit("getLobbies")},createLobby:function(){this.$socket.emit("createLobby",this.newLobbyData),this.newLobbyData={name:"",isPrivate:!1,password:""}},joinLobby:function(e){var t=d["a"].state.user.username,n="";e.isPrivate&&(n=prompt("Enter password","")),this.$socket.emit("joinLobby",e.id,t,n)},joinLobbyWithPassword:function(e,t){var n=d["a"].state.user.username;this.$socket.emit("joinLobby",e,n,t)},leaveLobby:function(){null!=this.joinedLobbyData&&this.$socket.emit("leaveLobby",this.joinedLobbyData.id)},openChat:function(e){var t=this;if(d["a"].state.user.username!=e)return v.searchUser(e).then((function(e){var n=e.data;t.$emit("openUserProfile",n.id)})).catch((function(){}))},refreshLobby:function(){}}},te=ee,ne=n("6b53"),oe=Object(h["a"])(te,K,q,!1,null,null,null),re=oe.exports;m()(oe,{VBtn:g["a"],VCard:y["a"],VCardText:w["b"],VCardTitle:w["c"],VContainer:k["a"],VIcon:x["a"],VList:L["a"],VListItem:V["a"],VListItemContent:C["a"],VListItemIcon:U["a"],VListItemTitle:C["b"],VResponsive:ne["a"],VSpacer:N["a"],VTooltip:j["a"]});var ae={name:"Home",components:{SocialMenu:M,ProfileMenu:B,Numerous:re},data:function(){return{showSocialMenu:!1,showPlayerMenu:!1,selectedUserId:0,user:null}},created:function(){this.user=d["a"].state.user},methods:{logout:function(){s["a"].logout(),ve.go("login")},openUserProfile:function(e){this.selectedUserId=e,this.showPlayerMenu=!0}}},ie=ae,se=Object(h["a"])(ie,a,i,!1,null,null,null),ce=se.exports;function ue(e,t,n){1==d["a"].state.authenticated?n():n("/login")}m()(se,{VBtn:g["a"],VCard:y["a"],VCardText:w["b"],VCardTitle:w["c"],VContainer:k["a"],VIcon:x["a"],VResponsive:ne["a"],VSpacer:N["a"],VTooltip:j["a"]}),o["a"].use(r["a"]);var le=[{path:"*",name:"notFound",component:function(){return n.e("chunk-2d0e5e97").then(n.bind(null,"9703"))}},{path:"/",name:"home",component:ce,beforeEnter:ue},{path:"/login",name:"login",component:function(){return n.e("chunk-2d2086b7").then(n.bind(null,"a55b"))}},{path:"/register",name:"register",component:function(){return n.e("chunk-2d0d6d35").then(n.bind(null,"73cf"))}}],de=new r["a"]({routes:le}),ve=t["a"]=de},acb2:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var o={tokenKey:"access_token",refreshTokenKey:"refresh_token"},r={getToken:function(e){return localStorage.getItem(e)},saveToken:function(e,t){localStorage.setItem(e,t)},removeToken:function(e){localStorage.removeItem(e)}}},c758:function(e,t,n){"use strict";var o=n("bc3a"),r=n.n(o),a=n("acb2"),i={init:function(e){r.a.defaults.baseURL=e},setHeader:function(){r.a.defaults.headers.common["Authorization"]="Bearer ".concat(a["b"].getToken(a["a"].tokenKey))},removeHeader:function(){r.a.defaults.headers.common={}},get:function(e){return r.a.get(e)},post:function(e,t){return r.a.post(e,t)},put:function(e,t){return r.a.put(e,t)},delete:function(e){return r.a.delete(e)},customRequest:function(e){return r()(e)}};t["a"]=i},fef9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7"),n("96cf");var o=n("c758"),r=n("acb2"),a=n("4360"),i={login:function(e,t){var n,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,regeneratorRuntime.awrap(o["a"].post("login",{username:e,password:t}));case 3:return n=s.sent,i=n.data.token,r["b"].saveToken(r["a"].tokenKey,i),r["b"].saveToken(r["a"].refreshTokenKey,i),o["a"].setHeader(),a["a"].state.authenticated=!0,a["a"].state.user={token:i,username:e,isGuest:!1},s.abrupt("return",i);case 13:throw s.prev=13,s.t0=s["catch"](0),"Login failed!";case 16:case"end":return s.stop()}}),null,null,[[0,13]])},guestLogin:function(){var e=this.generateRandomName();return a["a"].state.authenticated=!0,a["a"].state.user={token:null,username:e,isGuest:!0},e},generateRandomName:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<15;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},register:function(e,t){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(o["a"].post("register",{username:e,password:t}).then((function(){})).catch((function(){throw"Registration failed!"})));case 2:case"end":return n.stop()}}))},refreshToken:function(){var e,t,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=r["b"].getToken(r["a"].refreshTokenKey),t={method:"post",url:"refreshToken",data:{grant_type:"refresh_token",refresh_token:e}},a.prev=2,a.next=5,regeneratorRuntime.awrap(o["a"].customRequest(t));case 5:return n=a.sent,r["b"].saveToken(r["a"].tokenKey,n.data.newAccessToken),r["b"].saveToken(r["a"].refreshTokenKey,n.data.newRefreshToken),o["a"].setHeader(),a.abrupt("return",n.data.newAccessToken);case 12:throw a.prev=12,a.t0=a["catch"](2),"Refresh token failed!";case 15:case"end":return a.stop()}}),null,null,[[2,12]])},logout:function(){a["a"].state.user.isGuest||(r["b"].removeToken(r["a"].tokenKey),r["b"].removeToken(r["a"].refreshTokenKey),o["a"].removeHeader()),a["a"].state.authenticated=!1,a["a"].state.user={token:null,username:"",isGuest:!1}}}}});
//# sourceMappingURL=app.f423ac94.js.map